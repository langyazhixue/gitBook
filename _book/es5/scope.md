# 作用域
<h6>今天来谈谈作用域，把这个问题搞清楚了，其实闭包的问题也清楚了。要说作用域，先说执行环境吧</h6>
## 先来谈谈执行环境（execution context）
执行环境 是 js 中最为重要的一个概念。`执行环境定义了变量和函数有权限访问的其他数据，决定了它们各自的行为`，每个执行环境都有一个与之关联的变量对象(variable object)有全局执行环境和函数执行环境

- 全局执行环境 <br/>
全局执行环境是最外围的一个执行环境。在Web浏览器中，全局执行环境被认为是window对象。因此所有全局变量和函数都是作为window对象的属性和方法创建的。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁。
- 函数执行环境<br/>
每个函数都有自己的执行环境，当执行流进入一个函数时，函数的环境会被推入一个环境栈，而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。<br/>

`当代码在一个环境中执行时，会创建变量对象的一个作用域链(scope chain)。作用域链的用途，是保证对执行环境有权访问的所有变量和函数的有序访问`


## 作用域和作用域链<br/>
  以函数作用域为例子
  ```js
    function C(v1,v2) {
      if (v1 <  v2) {
          return -1
      } else if (v1 > v2) {
          return 1
      } else {
          return 0
      } 
    }
  ```

每次定义C函数，会创建一个属于这个C函数的[[scope]]属性，其只包括全局变量对象。
在执行的时候，为函数创建一个执行环境，执行环境创建了作用域链[[ scope chain ]],先把全局变量对象复制到作用域链中，然后把本地活动对象推到作用域链的顶端。所以函数在访问一个变量的时候，就会从作用域链的顶端开始找。